function wphc_do_ajax(t,o,n){var a={action:t};jQuery("#"+t+"_wpnonce").length&&(_wpnonce=jQuery("#"+t+"_wpnonce").val(),a=jQuery.extend(a,{_wpnonce:_wpnonce})),"object"==typeof o&&(a=jQuery.extend(a,o)),"string"==typeof n&&(n="#"+n,n=!!jQuery(n).length&&jQuery(n)),jQuery.ajax({method:"POST",url:ajaxurl,data:a,beforeSend:function(){n&&n.html('<p class="wphc_loading"><img src="/wp-admin/images/loading.gif" /> Loading...</p>')}}).done(function(t){n&&n.html(t)}).fail(function(){window.alert("fail")})}function wphc_do_pointer(t,o,n){jQuery("#"+n).pointer({content:"<h3>"+t+"</h3><p>"+o+"</p>",position:{edge:"left",align:"middle"}}),jQuery("#"+n).on("click",function(){jQuery("#"+n).pointer("open")})}jQuery(document).ready(function(t){function o(o){var n=!0,a=!1;o.match(/history/)?(n=!1,a=!0,o="wphc_autoload_history"):o="wphc_autoload_list",t("#wphc-autoload-list").is(":visible")||(t("#wphc-autoload-list").empty(),t("#wphc-autoload-list").show()),wphc_do_ajax(o,null,"wphc-autoload-list"),t("#wphc-btn-autoload-history").prop("disabled",a),t("#wphc-btn-autoload-list").prop("disabled",n)}postboxes.add_postbox_toggles(pagenow),t(document).on("click","#wphc-btn-transients-all",function(){wphc_do_ajax("wphc_transients_cleanup",null,"wphc-transients-stats")}).on("click","#wphc-btn-transients-expired",function(){wphc_do_ajax("wphc_transients_cleanup",{expired:"1"},"wphc-transients-stats")}).on("click","#wphc-btn-transients-object",function(){wphc_do_ajax("wphc_transients_cleanup",{object_cache:"1"},"wphc-transients-stats")}).on("click","#wphc-btn-autoload-list",function(){o("list")}).on("click","#wphc-btn-autoload-history",function(){o("history")}).on("click","#wphc-btn-autoload-close",function(){t("#wphc-autoload-list").hide(),t("#wphc-btn-autoload-history").prop("disabled",!1),t("#wphc-btn-autoload-list").prop("disabled",!1)}).on("click",".wphc-notice .notice-dismiss",function(){wphc_do_ajax("wphc_hide_admin_notice",{software:t(this).closest(".wphc-notice").attr("class").match(/wphc-notice-(?:php|database|wordpress|web)\s/)[0].replace("wphc-notice-","")},!1)}),t(document).on("submit","#wphc-autoload-form",function(){var o=t("#wphc-autoload-form").serializeArray(),n={};return t(o).each(function(t,o){n[o.name]=o.value}),wphc_do_ajax("wphc_autoload_deactivate",n,"wphc-autoload-list"),t("#wphc-btn-autoload-list").prop("disabled",!1),!1}),t("#wphc-autoload-list").length});