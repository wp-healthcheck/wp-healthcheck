function wphc_do_ajax(t,o,a){var n={action:t};jQuery("#"+t+"_wpnonce").length&&(_wpnonce=jQuery("#"+t+"_wpnonce").val(),n=jQuery.extend(n,{_wpnonce:_wpnonce})),"object"==typeof o&&(n=jQuery.extend(n,o)),"string"==typeof a&&(a="#"+a,a=!!jQuery(a).length&&jQuery(a)),jQuery.ajax({method:"POST",url:ajaxurl,data:n,beforeSend:function(){a&&a.html('<p class="wphc_loading"><img src="/wp-admin/images/loading.gif" /> Loading...</p>')}}).done(function(t){a&&a.html(t)}).fail(function(){window.alert("fail")})}function wphc_do_pointer(t,o,a){jQuery("#"+a).pointer({content:"<h3>"+t+"</h3><p>"+o+"</p>",position:{edge:"left",align:"middle"}}),jQuery("#"+a).on("click",function(){jQuery("#"+a).pointer("open")})}jQuery(document).ready(function(t){function o(o){var a=!0,n=!1;o.match(/history/)?(a=!1,n=!0,o="wphc_autoload_history"):o="wphc_autoload_list",t("#wphc-autoload-list").is(":visible")||(t("#wphc-autoload-list").empty(),t("#wphc-autoload-list").show()),wphc_do_ajax(o,null,"wphc-autoload-list"),t("#wphc-btn-autoload-history").prop("disabled",n),t("#wphc-btn-autoload-list").prop("disabled",a)}postboxes.add_postbox_toggles(pagenow),t(document).on("click","#wphc-btn-transients-all",function(){wphc_do_ajax("wphc_transients_cleanup",null,"wphc-transients-stats")}).on("click","#wphc-btn-transients-expired",function(){wphc_do_ajax("wphc_transients_cleanup",{expired:"1"},"wphc-transients-stats")}).on("click","#wphc-btn-transients-object",function(){wphc_do_ajax("wphc_transients_cleanup",{object_cache:"1"},"wphc-transients-stats")}).on("click","#wphc-btn-autoload-list",function(){o("list")}).on("click","#wphc-btn-autoload-history",function(){o("history")}).on("click","#wphc-btn-autoload-close",function(){t("#wphc-autoload-list").hide(),t("#wphc-btn-autoload-history").prop("disabled",!1),t("#wphc-btn-autoload-list").prop("disabled",!1)}).on("click",".wphc-notice .notice-dismiss",function(){wphc_do_ajax("wphc_hide_admin_notice",{software:t(this).closest(".wphc-notice").attr("class").match(/wphc-notice-(?:php|database|wordpress|web)\s/)[0].replace("wphc-notice-","")},!1)}),t(document).on("submit","#wphc-autoload-form",function(){var o=t("#wphc-autoload-form").serializeArray(),a={};return t(o).each(function(t,o){a[o.name]=o.value}),wphc_do_ajax(t("#wphc-history").length?"wphc_autoload_reactivate":"wphc_autoload_deactivate",a,"wphc-autoload-list"),t("#wphc-btn-autoload-list").prop("disabled",!1),t("#wphc-btn-autoload-history").prop("disabled",!1),!1}),t("#wphc-autoload-list").length});